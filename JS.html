<script>
function TextCell(text) {
  this.lines = text.split('\n')
}
TextCell.prototype.minWidth = function() {
return Math.max(...this.lines.map(it => it.length))
}
TextCell.prototype.minHeight = function() {
return this.lines.length
}
TextCell.prototype.draw = function(width, height) {
  let result = []
  for (let i = 0; i < height; i++) {
    let line = this.lines[i] || ''
    while (line.length < width) {
      line += ' '
    }
    result.push(line)
  }
  return result
}
let tc = new TextCell('aaa\nbbb\nccc\nddd\neee')
tc.minWidth()
tc.minHeight()
tc.draw(1, 2)
let table = [
  [new TextCell('aaa\nbbb\nabab'),new TextCell('ccc\nddd')],
  [new TextCell('111\n222'),new TextCell('333\n444')],
  [new TextCell('777'),new TextCell('999\nfff')]
]
function rowHeights ( rows ) {
return rows . map ( function ( row ) {
return row . reduce ( function ( max , cell ) {
return Math . max ( max , cell . minHeight () ) ;
}, 0) ;
}) ;
}
function colWidths ( rows ) {
return rows [0]. map ( function (_ , i ) {
return rows . reduce ( function ( max , row ) {
return Math . max ( max , row [ i ]. minWidth () ) ;
}, 0) ;
}) ;
}
function drawTable ( rows ) {
var heights = rowHeights ( rows ) ;
var widths = colWidths ( rows ) ;
function drawLine ( blocks , lineNo ) {
return blocks . map ( function ( block ) {
return block [ lineNo ];
}) . join (" ") ;
}
function drawRow ( row , rowNum ) {
var blocks = row . map ( function ( cell , colNum ) {
return cell . draw ( widths [ colNum ] , heights [ rowNum ]) ;
}) ;
return blocks [0]. map ( function (_ , lineNo ) {
return drawLine ( blocks , lineNo ) ;
}) . join ("\n") ;
}
return rows.map ( drawRow ).join ("\n") ;
}
drawTable(table)
//console.log(drawTable(table))
var MOUNTAINS = [
  {name: "Kilimanjaro", height: 5895, country: "Tanzania"},
  {name: "Everest", height: 8848, country: "Nepal"},
  {name: "Mount Fuji", height: 3776, country: "Japan"},
  {name: "Mont Blanc", height: 4808, country: "Italy/France"},
  {name: "Vaalserberg", height: 323, country: "Netherlands"},
  {name: "Denali", height: 6168, country: "United States"},
  {name: "Popocatepetl", height: 5465, country: "Mexico"}
];
// A vector type
function Vector(x, y) {
  this.x = x
  this.y = y
}
Vector.prototype.plus = function(params) {
  return new Vector(this.x + params.x , this.y + params.y)
}
Vector.prototype.minus = function(params) {
  return new Vector(this.x - params.x , this.y - params.y)
}
Vector.prototype.length = function() {
  return Math.sqrt(this.x * this.x + this.y * this.y)
}
let v1 = new Vector(6,6)
let v2 = new Vector(8,-8)
let v3 = v1.plus(v2)
let v4 = v2.minus(v1)
v1.length()
// A Complex type
function Complex(real, imag) {
  this.real = real
  this.imag = imag
}
Complex.prototype.plus = function(params) {
  return new Complex(this.real + params.real , this.imag + params.imag)
}
Complex.prototype.minus = function(params) {
  return new Complex(this.real - params.real , this.imag - params.imag)
}
Complex.prototype.multiple = function(params) {
  return new Complex(this.real * params.real - this.imag * params.imag, this.real * params.imag + this.imag * params.real)
}
Complex.prototype.div = function(params) {
  return new Complex((this.real * params.real + this.imag * params.imag) / (params.real * params.real + params.imag * params.imag), (this.imag * params.real - this.real * params.imag) / (params.real * params.real + params.imag * params.imag))
}
Complex.prototype.toString = function(params) {
  return this.real + (this.imag > 0 ? " + "  : '')+ this.imag + "i "
}
let c1 = new Complex(1,21)
let c2 = new Complex(2,3)
let c3 = c1.plus(c2)
let c4 = c2.minus(c1)
let c5 = c1.multiple(c2)
let c6 = c2.div(c1)
//console.log(c4.toString())

function Node(val) {
  this.val = val
  this.next = null
}
//表示一个单向链表
function LinkedList() {
  this.head = null
  this.length = 0
}
//返回链表第idx个节点的值
LinkedList.prototype.get = function(idx) {
  if (idx < 0 || idx >= this.length) return undefined
  let p = this.head
  for (let i = 0; i < idx; i++) {
    p = p.next
  }
  return p.val
}
//设置链表第idx项的值为val
LinkedList.prototype.set = function(idx, val) {
  if (idx < 0 || idx >= this.length) return undefined
  let p = this.head
  for (let i = 0; i < idx; i++) {
    p = p.next
  }
  p.val = val
  return true
}
//在链表末尾新增一个节点，值为val
LinkedList.prototype.push = function(val) {
  let node = new Node(val)
  if (!this.head) {
    this.head = node
    this.length++
    return true
  }
  let p = this.head
  while (p.next) {
    p = p.next
  }
  p.next = node 
  this.length++
  return true
} 
//返回链表末尾节点的值，并删除此节点
LinkedList.prototype.pop = function() {
  if (!this.head) {
    return undefined
  }
  if (!this.head.next) {
    let val = this.head.val
    this.head = null
    this.length--
    return val
  }
  let p = this.head
  while (p.next.next) {
    p = p.next
  }
  let val = p.next.val
  p.next = null
  this.length-- 
  return val
}
//在链表头部新增一个节点，值为val
LinkedList.prototype.unshift = function(val) {
  let node = new Node(val)
  node.next = this.head
  this.head = node
  this.length++ 
  return true
}
//返回链表第一个节点的值，并删除此的节点
LinkedList.prototype.shift = function() {
  if (!this.head) {
    return undefined
  }
  let val = this.head.val
  this.head = this.head.next
  this.length--
  return val
}
//链表转换为数组
LinkedList.prototype.toArray = function() {
  let res = []
  let current = this.head
  while (current) {
    res.push(current.val)
    current = current.next
  }
  return res
}
//表示一个集合
function Collection() {
  this.items = []
}
//向集合中增加元素
Collection.prototype.add = function(item) {
  if (!this.items.includes(item)) {
    this.items.push(item)
  }
}
//从集合中删除item元素
Collection.prototype.delete = function(item) {
  let idx = this.items.indexOf(item)
  if (idx !== -1) {
    this.items.splice(idx, 1)
    return true
  }
  return false
}
//获取集合中的元素s.size,使用getter
Object.defineProperty(Collection.prototype, 'size', {
  get: function() {
    return this.items.length
  }
}
)
//清空结合的所有元素
Collection.prototype.clear = function() {
  this.items = []
}
//判断集合中是否存在某元素
Collection.prototype.has = function(item) {
  //return this.items.includes(item)
  let idx = this.items.indexOf(item)
  if (idx !== -1) {
    return true
  }
  return false
}
//遍历集合中的元素
Collection.prototype.forEach = function(callback) {
  for (let i = 0; i < this.items.length; i++) {
    callback(this.items[i], i)
  }
}
let s = new Collection()
//s.add(1)
//s.add(1)
//s.size//1
//s.add(2)
//s.size//2
//s.has(1)//true
//s.has(3)//false
//s.delete(1)
//s.size//1
//s.delete(4)
//s.size//1
//表达一个映射
function map() {

}
Map.prototype = {
//设置映射中的key映射到val
set: function(key, val) {

},
//获取这个映射中key所对应的val
get: function(key) {

},
//判断这个映射中是否存在这个key的映射
has: function(key) {

},
//清空这个映射中所有的映射对
clear: function() {

},
//删除这个映射中的key及其映射的值
delete: function(key) {

},
//获取这个映射中映射对的数量
get size() {

},
//遍历这个映射中所有的映射对
forEach() {

},
}
//表示一个栈：后进先出
function Stack() {

}
//向栈中增加元素
Stack.prototype.in = function() {

}
//从栈中取出元素并删除栈顶元素
Stack.prototype.out = function() {

}
//查看但不删除栈顶元素
Stack.prototype.peek = function() {

}
//获取栈中元素的数量stack.size
//let stack = new Stack()
//stack.in(1)
//stack.in(2)
//stack.size//2
//stack.out()//2

//获取队列长度quene.size
</script>